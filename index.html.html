<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 7.4.7.2 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changed" content="00:00:00"/>
	<style type="text/css">
		@page { size: 8.27in 11.69in; margin: 0.79in }
		p { line-height: 115%; margin-bottom: 0.1in; background: transparent }
		pre { font-family: "Liberation Mono", monospace; font-size: 10pt; background: transparent }
	</style>
</head>
<body lang="en-US" link="#000080" vlink="#800000" dir="ltr"><pre>&lt;html&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Restaurant Finder&lt;/title&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js&quot;&gt;&lt;/script&gt;
    &lt;style&gt;
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        #map {
            height: 400px;
            width: 100%;
            margin-top: 20px;
        }
        #result {
            margin-top: 20px;
            font-weight: bold;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Restaurant Finder&lt;/h1&gt;
    &lt;button id=&quot;useLocation&quot;&gt;Use My Location&lt;/button&gt;
    &lt;p&gt;Or enter your address:&lt;/p&gt;
    &lt;input type=&quot;text&quot; id=&quot;addressInput&quot; placeholder=&quot;Enter your address&quot;&gt;
    &lt;button id=&quot;findRestaurant&quot;&gt;Find a Restaurant&lt;/button&gt;
    &lt;div id=&quot;map&quot;&gt;&lt;/div&gt;
    &lt;div id=&quot;result&quot;&gt;&lt;/div&gt;

    &lt;script&gt;
        let map, infoWindow;

        function initMap() {
            map = new google.maps.Map(document.getElementById(&quot;map&quot;), {
                center: { lat: -34.397, lng: 150.644 },
                zoom: 14,
            });
            infoWindow = new google.maps.InfoWindow();

            document.getElementById(&quot;useLocation&quot;).addEventListener(&quot;click&quot;, () =&gt; {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(
                        (position) =&gt; {
                            const pos = {
                                lat: position.coords.latitude,
                                lng: position.coords.longitude,
                            };
                            map.setCenter(pos);
                            findNearbyRestaurant(pos);
                        },
                        () =&gt; {
                            handleLocationError(true, infoWindow, map.getCenter());
                        }
                    );
                } else {
                    handleLocationError(false, infoWindow, map.getCenter());
                }
            });

            document.getElementById(&quot;findRestaurant&quot;).addEventListener(&quot;click&quot;, () =&gt; {
                const address = document.getElementById(&quot;addressInput&quot;).value;
                if (address) {
                    geocodeAddress(address);
                } else {
                    alert(&quot;Please enter an address.&quot;);
                }
            });
        }

        function handleLocationError(browserHasGeolocation, infoWindow, pos) {
            infoWindow.setPosition(pos);
            infoWindow.setContent(
                browserHasGeolocation
                    ? &quot;Error: The Geolocation service failed.&quot;
                    : &quot;Error: Your browser doesn't support geolocation.&quot;
            );
            infoWindow.open(map);
        }

        function geocodeAddress(address) {
            const geocoder = new google.maps.Geocoder();
            geocoder.geocode({ address: address }, (results, status) =&gt; {
                if (status === &quot;OK&quot;) {
                    map.setCenter(results[0].geometry.location);
                    findNearbyRestaurant(results[0].geometry.location);
                } else {
                    alert(&quot;Geocode was not successful for the following reason: &quot; + status);
                }
            });
        }

        function findNearbyRestaurant(location) {
            const service = new google.maps.places.PlacesService(map);
            service.nearbySearch(
                {
                    location: location,
                    radius: 1000,
                    type: [&quot;restaurant&quot;],
                },
                (results, status) =&gt; {
                    if (status === google.maps.places.PlacesServiceStatus.OK &amp;&amp; results) {
                        const randomIndex = Math.floor(Math.random() * results.length);
                        const restaurant = results[randomIndex];
                        displayRestaurant(restaurant);
                    }
                }
            );
        }

        function displayRestaurant(restaurant) {
            const marker = new google.maps.Marker({
                map: map,
                position: restaurant.geometry.location,
            });

            const resultDiv = document.getElementById(&quot;result&quot;);
            resultDiv.innerHTML = `We recommend: ${restaurant.name}&lt;br&gt;Address: ${restaurant.vicinity}`;

            infoWindow.setContent(restaurant.name);
            infoWindow.open(map, marker);
        }
    &lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://maps.googleapis.com/maps/api/js?key=AIzaSyBWVVUKKH_5WKmWlIcka-tvjZp0D0aLEMw&amp;callback=initMap&amp;libraries=places&quot; async defer&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;html&gt;</pre>
</body>
</html>